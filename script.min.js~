window.onload=function(){l();setTimeout(function(){p();uparr=document.getElementsByClassName("uparr");uparrLen=uparr.length;dnarr=document.getElementsByClassName("dnarr");dnarrLen=dnarr.length;for(var a=0;a<uparrLen;a++)uparr[a].addEventListener("click",function(){u("asc",this.id)});for(a=0;a<dnarrLen;a++)dnarr[a].addEventListener("click",function(){u("desc",this.id)});document.getElementById("inputVal").addEventListener("input",function(){var a=this.value;v=[];if(void 0!=a&&""!=a)for(var d=w.length,
a=a.toLowerCase(),b=0;b<d;b++)for(var c in w[b])if(0<=w[b][c].toString().toLowerCase().indexOf(a)){v.push(w[b]);break}p()});document.getElementById("rowLimit").addEventListener("change",function(){p()})},350)};var v=[],y=[],w=[];
function l(){document.getElementById("tbody").innerHTML="<tr><td colspan=7 align='center' height='50'><span class='info'>Loading..</span></td></tr>";var a=null,a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");a.open("POST","server.php",!0);a.send(0);a.onreadystatechange=function(){if(4==a.readyState){var g=JSON.parse(a.responseText),d=g.length,b;for(b=0;b<d;b++)w.push(g[b])}}}
function u(a,g){for(var d=document.getElementById(g),b=0;b<uparrLen;b++)uparr[b].classList.remove("active-sort"),dnarr[b].classList.remove("active-sort");d.classList.add("active-sort");for(var d=d.getAttribute("data-field"),c=0==y.length?w:y,e=c.length,k,b=0;b<e;b++)for(var f=0;f<e-1;f++)"asc"==a?c[f][d]>c[f+1][d]&&(k=c[f+1],c[f+1]=c[f],c[f]=k):c[f][d]<c[f+1][d]&&(k=c[f+1],c[f+1]=c[f],c[f]=k);b=y;d=b.length;c=0;e="";for(c;c<d;c++){var e=e+"<tr>",r;for(r in b[c])e+="<td>"+b[c][r]+"</td>";e+="</tr>"}document.getElementById("tbody").innerHTML=
e}
function p(){y=[];var a=Object.keys(w[0]),g=a.length,d=document.getElementById("tbody"),b=document.getElementById("tblCols"),c=document.getElementById("tfoot");if(""==b.innerHTML){var e=parseInt(g)-1;e='<td colspan="'+e+'"> <input type="search" id="inputVal" placeholder="Search table"></td><td title="% Rows displayed "><select id="rowLimit">';for(var k=50;500>=k;k+=50)e+="<option value="+k+">"+k+"</option>";document.getElementById("tblNav").innerHTML=e+"</select></td>"}e=document.getElementById("inputVal").value;var f=
0==v.length&&""==e?w:v;e=f.length;var r="",m=document.getElementById("rowLimit").value,k=0*m,m=parseInt(k)+parseInt(m),m=m>e?e:m;if(0<e){var n=k,t="",x=0;for(n;n<m;n++){y.push(f[n]);var t=t+"<tr>",q=0,h;for(h in f[n])0===x&&(r+="<th>"+a[q]+'<span class="uparr" data-field="'+a[q]+'" id="uarr'+q+'" title="Sort ASC">&uarr;</span><span class="dnarr" data-field="'+a[q]+'" id="darr'+q+'" title="Sort DESC">&darr;</span></th>'),t+='<td title="'+f[n][h]+'">'+f[n][h]+"</td>",q++;t+="</tr>";x++}""==b.innerHTML&&
(b.innerHTML=r);d.innerHTML=t;d=document.getElementById("rowLimit").value;a=e/d;g='<tr><td colspan="'+g+'"><span class="record-info"> Records displayed  : '+y.length+" ("+parseInt(k+1)+" to "+m+") of "+e+'</span> <span class="paging">';if(e>d)for(h=0;h<a;h++)b=0==h?"activePg":"",5>h&&(g+='<button class="pgBtn '+b+'"  onclick=pageData(this) data-pgno='+parseInt(h)+">"+parseInt(h+1)+"</button>"),5<h&&6>=h&&(d=1>=a?"disabled":"",g+='<button class="pgBtn  '+d+'" onclick=pageData(this) '+d+" data-pgno=1 >Next -> 2</button>",
g+='<button class="pgBtn disabled" onclick=pageData(this) disabled data-pgno=-1>0 <- Prev </button>'),h>a-1&&(g+='<button class="pgBtn '+b+'" onclick=pageData(this) data-pgno='+parseInt(h)+">Last</button>");c.innerHTML=g+"</span></td></tr>"}else d.innerHTML="<tr><td colspan="+g+" align='center' height='50'><span class='error'>No records found..</span></td></tr>"};
